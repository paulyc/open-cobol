\chapter{Environment division}
\begin{syntax}
  \begin{0-1}
    \key{ENVIRONMENT} \key{DIVISION}.
  \end{0-1}
  \newline
  \begin{0-1}
    \metaelement{configuration-section}
  \end{0-1}
  \newline
  \begin{0-1}
    \metaelement{input-output-section}
  \end{0-1}
\end{syntax}

\subsubsection{Syntax rules}

\subsubsection{General rules}

\section{Configuration section}

\begin{syntax}
  \begin{0-1}
    \key{CONFIGURATION} \key{SECTION}.
  \end{0-1}
  \newline
  \begin{0+}
    \metaelement{source-computer-paragraph} \\
    \metaelement{object-computer-paragraph}
  \end{0+}
  \newline
  \begin{0-1}
    \metaelement{special-names-paragraph}
  \end{0-1}
  \newline
  \begin{0-1}
    \metaelement{special-names-entry}
  \end{0-1}
  \newline
  \begin{0-1}
    \metaelement{repository-paragraph}
  \end{0-1}
\end{syntax}

\subsubsection{Syntax rules}

\subsubsection{General rules}

\subsection{SOURCE-COMPUTER paragraph}

\begin{syntax}
  \key{SOURCE-COMPUTER}.
  \begin{0-1}
    \begin{1=}
      \computername
    \end{1=}\gnucobol{\ldots}
    \deleted{
      \begin{0-1}
        WITH \key{DEBUGGING} \key{MODE}
      \end{0-1}
    }
    .
  \end{0-1}
\end{syntax}

\subsubsection{Syntax rules}

\subsubsection{General rules}

\subsection{OBJECT-COMPUTER paragraph}
\begin{syntax}
  \key{OBJECT-COMPUTER}.

  \begin{0-1}
    \begin{0-1}
      \begin{1=}
        \computername
      \end{1=}\gnucobol{\ldots}
    \end{0-1}\\\quad
    \begin{0-1}
      \deleted{
        \key{MEMORY} \key{SIZE} IS \integer
        \begin{1=}
          \key{CHARACTERS} \\
          \key{WORDS}
        \end{1=}
      } \\
      PROGRAM COLLATING \key{SEQUENCE} IS \metaelement{collating-sequence-1} \\
      \deleted{\key{SEGMENT-LIMIT} IS \integer} \\
      CHARACTER \key{CLASSIFICATION} IS
      \begin{1=}
        \metaelement{locale-name-1} \\
        \key{LOCALE} \\
        \key{SYSTEM-DEFAULT} \\
        \key{USER-DEFAULT}
      \end{1=}
    \end{0-1}\ldots\ {}.
  \end{0-1}
\end{syntax}

\subsubsection{Syntax rules}

\subsubsection{General rules}

\subsection{SPECIAL-NAMES paragraph}

\begin{syntax}
  \begin{0-1}
    \key{SPECIAL-NAMES}.
  \end{0-1}

  \begin{0-1}
    \begin{1=}
      \metaelement{mnemonic-name-clause} \\
      \metaelement{alphabet-name-clause} \\
      \metaelement{symbolic-characters-clause} \\
      \key{LOCALE} \metaelement{locale-name-1} IS \literal \\

      \key{CLASS} \metaelement{class-name-1} IS
      \begin{1=}
        \literal
        \begin{0-1}
          \begin{1=}
            \key{THRU} \\
            \key{THROUGH}
          \end{1=}
          \literal
        \end{0-1}
      \end{1=}\ldots \\

      \key{CURRENCY} SIGN IS \literal
      \begin{0-1}
        \pending{WITH \key{PICTURE-SYMBOL} \literal}
      \end{0-1} \\

      \key{DECIMAL-POINT} IS \key{COMMA} \\
      \miscext{\key{NUMERIC} \key{SIGN} IS \key{TRAILING} \key{SEPARATE}} \\
      \key{CURSOR} IS \identifier \\
      \key{CRT} \key{STATUS} IS \identifier \\
      \miscext{\pending{\key{SCREEN-CONTROL} IS \identifier}} \\
      \miscext{\pending{\key{EVENT-STATUS} IS \identifier}}
    \end{1=}\ldots\ {}.
  \end{0-1}\ldots
\end{syntax}

where \metaelement{mnemonic-name-clause} is

\begin{syntax}
  \mnemonicname
  \begin{1=}
    IS \key{CRT} \\
    \integer IS \systemname \\
    \begin{0-1}
      IS \switchname
    \end{0-1}
    \begin{1+}
      \key{ON} STATUS IS \switchstatusname \\
      \key{OFF} STATUS IS \switchstatusname
    \end{1+}
  \end{1=}
\end{syntax}

where \metaelement{alphabet-name-clause} is

\begin{syntax}
  \key{ALPHABET} \metaelement{alphabet-name-1} IS
  \begin{1=}
    \key{ASCII} \\
    \key{EBCDIC} \\
    \key{NATIVE} \\
    \key{STANDARD-1} \\
    \key{STANDARD-2} \\
    \begin{1=}
      \literal
      \begin{0-1}
        \begin{1=}
          \key{THROUGH} \\
          \key{THRU}
        \end{1=}
        \literal \\
        \begin{1=}
          \key{ALSO} \literal
        \end{1=}\ldots
      \end{0-1}
    \end{1=}\ldots
  \end{1=}
\end{syntax}

where \metaelement{symbolic-characters-clause} is

\begin{syntax}
  \key{SYMBOLIC} CHARACTERS
  \begin{1=}
    \begin{1=}
      \metaelement{symbolic-character-name-1}
    \end{1=}\ldots
    \begin{1=}
      \key{IS} \\
      \key{ARE}
    \end{1=}
    \begin{1=}
      \integer
    \end{1=}\ldots
  \end{1=}\ldots
  \begin{0-1}
    \key{IN} \key{WORD}
  \end{0-1}
\end{syntax}

\subsubsection{Syntax rules}

\subsubsection{General rules}

\subsection{REPOSITORY paragraph}

\begin{syntax}
  \key{REPOSITORY}.

  \begin{0-1}
    \begin{1=}
      \key{FUNCTION}
      \begin{1=}
        \begin{1=}
          \functionname
        \end{1=}\ldots \\

        \key{ALL}
      \end{1=}
      \key{INTRINSIC} \\

      \key{FUNCTION} \functionname
      \begin{0-1}
        \key{AS} \literal
      \end{0-1}
    \end{1=}\ldots\ {}.
  \end{0-1}
\end{syntax}

\subsubsection{Syntax rules}

\subsubsection{General rules}

\section{Input-output section}

\begin{syntax}
  \begin{0-1}
    \key{INPUT-OUTPUT} \key{SECTION}.
  \end{0-1}\newline
  \begin{0-1}
    \metaelement{file-control-paragraph}
  \end{0-1}\newline
  \begin{0-1}
    \metaelement{i-o-control-paragraph}
  \end{0-1}
\end{syntax}

\subsubsection{Syntax rules}

\subsubsection{General rules}

\subsection{FILE-CONTROL paragraph}

\begin{syntax}
  \begin{0-1}
    \key{FILE-CONTROL}.
  \end{0-1}\newline
  \begin{0-1}
    \metaelement{file-control-entry}
  \end{0-1} \ldots
\end{syntax}

\label{file-control-entry} where \metaelement{file-control-entry} is

\begin{syntax}
  \key{SELECT}
  \begin{0-1}
    \key{OPTIONAL} \\
    \miscext{\key{NOT} \key{OPTIONAL}}
  \end{0-1}
  \filename
  \begin{0-1}
    \metaelement{assign-clause} \\
    \metaelement{access-mode-clause} \\
    \metaelement{alternative-record-key-clause} \\
    \metaelement{collating-sequence-clause} \\
    \metaelement{file-status-clause} \\
    \metaelement{lock-mode-clause} \\
    \metaelement{organization-clause} \\
    \metaelement{padding-character-clause} \\
    \metaelement{record-delimiter-clause} \\
    \metaelement{record-key-clause} \\
    \metaelement{relative-key-clause} \\
    \metaelement{reserve-clause} \\
    \metaelement{sharing-clause}
  \end{0-1}\ldots\ {}.
\end{syntax}

where \metaelement{assign-clause} is

\ {}\newline
\begin{syntax}
  \key{ASSIGN}
  \begin{0-1}
    \key{TO} \\
    \key{USING}
  \end{0-1}
  \miscext{
    \begin{0-1}
      \key{DYNAMIC} \\
      \key{EXTERNAL}
    \end{0-1}
  }
  \begin{1=}
    \miscext{
      \begin{0-1}
        \key{LINE} \key{ADVANCING} FILE
      \end{0-1}
    }
    \begin{1=}
      \literal \\
      \identifier
    \end{1=}\\

    \begin{1=}
      \key{DISC} \\
      \xopen{\key{DISK}} \\
      \miscext{\key{DISPLAY}} \\
      \miscext{\key{KEYBOARD}} \\
      \miscext{\key{PRINTER-1}} \\
      \xopen{\key{PRINTER}} \\
      \key{PRINT} \\
      \key{RANDOM} \\
      \key{TAPE}
    \end{1=}
    \begin{0-1}
      \literal \\
      \identifier
    \end{0-1}
  \end{1=}
\end{syntax}

where \metaelement{access-mode-clause} is

\begin{syntax}
  \key{ACCESS} MODE IS
  \begin{1=}
    \key{SEQUENTIAL} \\
    \key{DYNAMIC} \\
    \key{RANDOM}
  \end{1=}
\end{syntax}

where \metaelement{alternative-record-key-clause} is

\begin{syntax}
  \key{ALTERNATE} RECORD KEY IS \identifier
  \pending{
    \begin{0-1}
      \begin{1=}
        = \\
        \key{SOURCE} IS \\
      \end{1=}
      \begin{1=}
        \identifier
      \end{1=}\ldots
    \end{0-1}
  }
  \begin{0-1}
    WITH \key{DUPLICATES}
  \end{0-1}
  \pending{
    \begin{0-1}
      \key{SUPPRESS} \key{WHEN}
      \begin{1=}
        \key{ALL} \literal \\
        \key{SPACE} \\
        \key{ZERO}
      \end{1=}
    \end{0-1}
  }
\end{syntax}

where \metaelement{collating-sequence-clause} is

\begin{syntax}
  \pending{COLLATING \key{SEQUENCE} IS \metaelement{collating-sequence-name-1}}
\end{syntax}

where \metaelement{file-status-clause} is

\begin{syntax}
  \begin{0-1}
    \key{FILE} \\
    \key{SORT}
  \end{0-1}
  \key{STATUS} IS \identifier
\end{syntax}

where \metaelement{lock-mode-clause} is

\begin{syntax}
  \key{LOCK} MODE IS
  \begin{1=}
    \begin{1=}
      \begin{1=}
        \key{MANUAL} \\
        \key{AUTOMATIC}
      \end{1=}
      \key{WITH}
      \begin{1=}
        \key{LOCK} \key{ON} MULTIPLE
        \begin{1=}
          RECORD \\
          RECORDS
        \end{1=} \\
        \pending{\key{ROLLBACK}}
      \end{1=}
    \end{1=} \\
    \key{EXCLUSIVE}
  \end{1=}
\end{syntax}

where \metaelement{organization-clause} is

\begin{syntax}
  \begin{0-1}
    \begin{1=}
      \key{ORGANIZATION} \\
      \miscext{\key{ORGANISATION}}
    \end{1=}
    IS
  \end{0-1}
  \begin{1=}
    \key{INDEXED} \\
    \xopen{\key{LINE} \key{SEQUENTIAL}} \\
    \miscext{RECORD BINARY} \key{SEQUENTIAL} \\
    \key{RELATIVE}
  \end{1=}
\end{syntax}

where \metaelement{padding-character-clause} is

\begin{syntax}
  \pending{
    \key{PADDING} CHARACTER IS
    \begin{1=}
      \identifier \\
      \literal
    \end{1=}
  }
\end{syntax}

where \metaelement{record-delimiter-clause} is

\begin{syntax}
  \pending{\key{RECORD} \key{DELIMITER} IS \key{STANDARD-1}}
\end{syntax}

where \metaelement{record-key-clause} is

\begin{syntax}
  \key{RECORD} KEY IS \identifier
  \begin{0-1}
    \begin{1=}
      = \\
      \key{SOURCE} IS
    \end{1=}
    \begin{1=}
      \identifier
    \end{1=}\ldots
  \end{0-1}
\end{syntax}

where \metaelement{relative-key-clause} is

\begin{syntax}
  \key{RELATIVE} KEY IS \identifier
\end{syntax}

where \metaelement{reserve-clause} is

\begin{syntax}
  \pending{
    \key{RESERVE}
    \begin{1=}
      \key{NO} \\
      \integer
    \end{1=}
    \begin{0-1}
      AREA \\
      AREAS
    \end{0-1}
  }
\end{syntax}

where \metaelement{sharing-clause} is

\begin{syntax}
  \key{SHARING} WITH
  \begin{1=}
    \key{ALL} OTHER \\
    \key{NO} OTHER \\
    \key{READ} \key{ONLY}
  \end{1=}
\end{syntax}

\subsubsection{Syntax rules}

\subsubsection{General rules}

\subsection{I-O-CONTROL paragraph}
\begin{syntax}
  \begin{0-1}
    \key{I-O-CONTROL}.
  \end{0-1}\newline
  \begin{1=}
    \key{SAME}
    \begin{0-1}
      \key{RECORD} \\
      \key{SORT} \\
      \key{SORT-MERGE}
    \end{0-1}
    AREA FOR
    \begin{1=}
      \filename
    \end{1=}\ldots \\

    \deleted{
      \key{MULTIPLE} FILE TAPE CONTAINS
      \begin{1=}
        \filename
        \begin{0-1}
          \key{POSITION} \integer
        \end{0-1}
      \end{1=}\ldots
    }
  \end{1=}\ldots\ {}.
\end{syntax}

\subsubsection{Syntax rules}

\subsubsection{General rules}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "grammar.tex"
%%% End:
